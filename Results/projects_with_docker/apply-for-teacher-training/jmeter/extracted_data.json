{
    "source_code_info": {
        "language": "JavaScript",
        "framework": "Node.js",
        "dependencies": {
            "package.json": "{\n  \"name\": \"apply-for-teacher-training\",\n  \"private\": true,\n  \"engines\": {\n    \"node\": \"20.x\",\n    \"yarn\": \"^1.22.0\"\n  },\n  \"dependencies\": {\n    \"@ministryofjustice/frontend\": \"^3.6.2\",\n    \"@rails/webpacker\": \"^5.4.4\",\n    \"accessible-autocomplete\": \"^3.0.1\",\n    \"dfe-autocomplete\": \"github:DFE-Digital/dfe-autocomplete#8e7389ff62a38bc8880323f6c58eed9c8d10f080\",\n    \"govuk-frontend\": \"^5.8.0\",\n    \"jquery\": \"^3.7.1\",\n    \"postcss\": \"^8.5.3\",\n    \"puppeteer\": \"^24.3.1\",\n    \"stimulus\": \"^3.2.2\"\n  },\n  \"devDependencies\": {\n    \"@babel/plugin-transform-optional-chaining\": \"^7.25.9\",\n    \"jest\": \"^29.7.0\",\n    \"jest-environment-jsdom\": \"^29.7.0\",\n    \"prettier\": \"^3.5.3\",\n    \"standard\": \"^17.1.2\",\n    \"stylelint\": \"^16.15.0\",\n    \"stylelint-config-gds\": \"^2.0.0\",\n    \"stylelint-config-recess-order\": \"^6.0.0\",\n    \"stylelint-order\": \"^6.0.4\"\n  },\n  \"scripts\": {\n    \"lint\": \"standard 'app/frontend/packs'\",\n    \"test\": \"jest\"\n  },\n  \"jest\": {\n    \"testEnvironment\": \"jsdom\",\n    \"roots\": [\n      \"app\"\n    ]\n  },\n  \"standard\": {\n    \"env\": [\n      \"jest\"\n    ],\n    \"globals\": [\n      \"$\",\n      \"history\",\n      \"zE\",\n      \"CustomEvent\"\n    ]\n  }\n}\n"
        },
        "database": null,
        "build_system": "npm",
        "config_files": {
            ".env.development": "REDIS_URL=redis://localhost:6379/0\nTEACHER_TRAINING_API_BASE_URL=https://qa.api.publish-teacher-training-courses.service.gov.uk/api/public/v1\nHOSTING_ENVIRONMENT_NAME=development\nSTATE_CHANGE_SLACK_URL=\nGOOGLE_ANALYTICS_APPLY=UA-APPLY-XX\nGOOGLE_ANALYTICS_MANAGE=UA-MANAGE-XX\nGOOGLE_TAG_MANAGER_APPLY=GTM-APPLY-XX\nGOOGLE_TAG_MANAGER_MANAGE=GTM-MANAGE-XX\nRAILS_FILTER_STDOUT=true\n\n# Federated Identity \nAZURE_CLIENT_ID=\nAZURE_FEDERATED_TOKEN_FILE=\nGOOGLE_CLOUD_CREDENTIALS_STATS={}\n",
            ".env.test": "REDIS_URL=redis://localhost:6379/9\nTEACHER_TRAINING_API_BASE_URL=http://teacher-training-api-test/api/v1\nHOSTING_ENVIRONMENT_NAME=test\nSTATE_CHANGE_SLACK_URL=https://example.com/slack-webhook\nGOVUK_NOTIFY_CALLBACK_API_KEY=test\nGOVUK_NOTIFY_TEST_TEMPLATE_ID=test\nDSI_API_URL=https://test-api.signin.education.gov.uk\nDSI_API_SECRET=some-secret\nSANDBOX=false\nGOOGLE_ANALYTICS_APPLY=UA-APPLY-XX\nGOOGLE_ANALYTICS_MANAGE=UA-MANAGE-XX\nGOOGLE_TAG_MANAGER_APPLY=GTM-APPLY-XX\nGOOGLE_TAG_MANAGER_MANAGE=GTM-MANAGE-XX\nBULLET=false\nCOVERAGE=false\nGOOGLE_MAPS_API_KEY=test\n\n# Federated Identity \nAZURE_CLIENT_ID=\nAZURE_FEDERATED_TOKEN_FILE=\nGOOGLE_CLOUD_CREDENTIALS_STATS={}\n\nGOVUK_ONE_LOGIN_ACCOUNT_URL=http://home.integration.account.gov.uk\n",
            "jmeter/log4j2.xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n  ~ contributor license agreements.  See the NOTICE file distributed with\n  ~ this work for additional information regarding copyright ownership.\n  ~ The ASF licenses this file to you under the Apache License, Version 2.0\n  ~ (the \"License\"); you may not use this file except in compliance with\n  ~ the License.  You may obtain a copy of the License at\n  ~\n  ~ http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  -->\n\n<Configuration status=\"WARN\" packages=\"org.apache.jmeter.gui.logging\">\n\n  <Appenders>\n    <!-- Uncomment to set rotating logs up to 5 files of 100 MB-->\n    <!--\n    <RollingFile name=\"jmeter-log\" fileName=\"${sys:jmeter.logfile:-jmeter.log}\" append=\"false\"\n        filePattern=\"jmeter-%d{yyyyMMdd}-%i.log.gz\">\n        <PatternLayout>\n            <pattern>%d %p %c{1.}: %m%n</pattern>\n        </PatternLayout>\n        <Policies>\n            <SizeBasedTriggeringPolicy size=\"100 MB\" />\n        </Policies>\n        <DefaultRolloverStrategy max=\"5\" />\n    </RollingFile>\n    -->\n    <File name=\"jmeter-log\" fileName=\"${sys:jmeter.logfile:-jmeter.log}\" append=\"false\">\n        <PatternLayout>\n            <pattern>%d %p %c{1.}: %m%n</pattern>\n        </PatternLayout>\n    </File>\n\n    <GuiLogEvent name=\"gui-log-event\">\n      <PatternLayout>\n        <pattern>%d %p %c{1.}: %m%n</pattern>\n      </PatternLayout>\n    </GuiLogEvent>\n\n  </Appenders>\n\n  <Loggers>\n\n    <Root level=\"info\">\n      <AppenderRef ref=\"jmeter-log\" />\n      <AppenderRef ref=\"gui-log-event\" />\n    </Root>\n\n    <Logger name=\"org.apache.jmeter.junit\" level=\"debug\" />\n    <!--\n    <Logger name=\"org.apache.jmeter.control\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.testbeans\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.engine\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.threads\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.gui\" level=\"warn\" />\n    <Logger name=\"org.apache.jmeter.testelement\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.util\" level=\"warn\" />\n    <Logger name=\"org.apache.jmeter.protocol.http\" level=\"debug\" />\n    -->\n    <!-- # For CookieManager, AuthManager etc: -->\n    <!--\n    <Logger name=\"org.apache.jmeter.protocol.http.control\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.protocol.ftp\" level=\"warn\" />\n    <Logger name=\"org.apache.jmeter.protocol.jdbc\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.protocol.java\" level=\"warn\" />\n    <Logger name=\"org.apache.jmeter.testelements.property\" level=\"debug\" />\n    -->\n    <Logger name=\"org.apache.jorphan\" level=\"info\" />\n\n    <!--\n      # Apache HttpClient logging examples\n    -->\n    <!-- # Enable header wire + context logging - Best for Debugging -->\n    <!--\n    <Logger name=\"org.apache.http\" level=\"debug\" />\n    <Logger name=\"org.apache.http.wire\" level=\"error\" />\n    -->\n\n    <!-- # Enable full wire + context logging -->\n    <!-- <Logger name=\"org.apache.http\" level=\"debug\" /> -->\n\n    <!-- # Enable context logging for connection management -->\n    <!-- <Logger name=\"org.apache.http.impl.conn\" level=\"debug\" /> -->\n\n    <!-- # Enable context logging for connection management / request execution -->\n    <!--\n    <Logger name=\"org.apache.http.impl.conn\" level=\"debug\" />\n    <Logger name=\"org.apache.http.impl.client\" level=\"debug\" />\n    <Logger name=\"org.apache.http.client\" level=\"debug\" />\n    -->\n\n    <!--\n      # Reporting logging configuration examples\n    -->\n    <!-- # If you want to debug reporting, uncomment this line -->\n    <!-- <Logger name=\"org.apache.jmeter.report\" level=\"debug\" /> -->\n\n    <!--\n      # More user specific logging configuration examples.\n    -->\n    <!-- <Logger name=\"org.apache.jorphan.reflect\" level=\"debug\" /> -->\n    <!--\n      # Warning: Enabling the next debug line causes javax.net.ssl.SSLException: Received fatal alert: unexpected_message\n                 for certain sites when used with the default HTTP Sampler\n    -->\n    <!--\n    <Logger name=\"org.apache.jmeter.util.HttpSSLProtocolSocketFactory\" level=\"debug\" />\n    <Logger name=\"org.apache.jmeter.util.JsseSSLManager\" level=\"debug\" />\n    -->\n\n    <!--\n      # Enable Proxy request debug\n    -->\n    <!-- <Logger name=\"org.apache.jmeter.protocol.http.proxy.HttpRequestHdr\" level=\"debug\" /> -->\n\n  </Loggers>\n\n</Configuration>\n",
            "docker-compose.yml": "services:\n  db:\n    image: postgres:14-alpine\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    environment:\n      - POSTGRES_PASSWORD=developmentpassword\n    ports:\n      - 5432:5432\n\n  redis:\n    image: redis:alpine\n    ports:\n      - 6379:6379\n\nvolumes:\n  db_data:\n",
            "Dockerfile": "# To use or update to a ruby version, change {BASE_RUBY_IMAGE}\nARG BASE_RUBY_IMAGE=ruby:3.3.5-alpine3.20\n\n# Stage 1: gems-node-modules, build gems and node modules.\nFROM ${BASE_RUBY_IMAGE} AS gems-node-modules\n\nRUN apk -U upgrade && \\\n    apk add --update --no-cache git gcc libc-dev make postgresql-dev build-base \\\n    libxml2-dev libxslt-dev nodejs yarn tzdata libpq libxml2 libxslt graphviz chromium gcompat \\\n    'aom>=3.9.1-r0'\n\nRUN echo \"Europe/London\" > /etc/timezone && \\\n    cp /usr/share/zoneinfo/Europe/London /etc/localtime\n\nENV RAILS_ENV=production \\\n    GOVUK_NOTIFY_API_KEY=TestKey \\\n    AUTHORISED_HOSTS=127.0.0.1 \\\n    SECRET_KEY_BASE=TestKey \\\n    BLAZER_DATABASE_URL=testURL \\\n    GOVUK_NOTIFY_CALLBACK_API_KEY=TestKey \\\n    REDIS_CACHE_URL=redis://127.0.0.1:6379 \\\n    NODE_OPTIONS=--openssl-legacy-provider \\\n    PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser\n\nWORKDIR /app\n\nCOPY Gemfile Gemfile.lock ./\n\nRUN gem update --system && \\\n    bundler -v && \\\n    bundle config set no-cache 'true' && \\\n    bundle config set no-binstubs 'true' && \\\n    bundle --retry=5 --jobs=4 --without=development && \\\n    rm -rf /usr/local/bundle/cache\n\nCOPY package.json yarn.lock ./\n\nRUN yarn install --check-files\n\nCOPY . .\n\nRUN bundle exec rake assets:precompile\nRUN rm -rf tmp/* log/* /tmp/*\n\n# Stage 2: production, copy application code and compiled assets to base ruby image.\n# Depends on assets-precompile stage which can be cached from a pre-built image\n# by specifying a fully qualified image name or will default to packages-prod thereby rebuilding all 3 stages above.\n# If a existing base image name is specified Stage 1 & 2 will not be built and gems and dev packages will be used from the supplied image.\nFROM ${BASE_RUBY_IMAGE} AS production\n\nENV LANG=en_GB.UTF-8 \\\n    RAILS_ENV=production \\\n    GOVUK_NOTIFY_API_KEY=TestKey \\\n    AUTHORISED_HOSTS=127.0.0.1 \\\n    SECRET_KEY_BASE=TestKey \\\n    GOVUK_NOTIFY_CALLBACK_API_KEY=TestKey \\\n    REDIS_CACHE_URL=redis://127.0.0.1:6379 \\\n    PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser\n\nRUN apk -U upgrade && \\\n    apk add --update --no-cache tzdata libpq libxml2 libxslt graphviz \\\n    ttf-dejavu ttf-droid ttf-liberation libx11 openssl nodejs chromium gcompat \\\n    'aom>=3.9.1-r0' && \\\n    echo \"Europe/London\" > /etc/timezone && \\\n    cp /usr/share/zoneinfo/Europe/London /etc/localtime\n\nWORKDIR /app\n\nRUN echo export PATH=/usr/local/bin:\\$PATH > /root/.ashrc\nENV ENV=\"/root/.ashrc\"\n\nCOPY --from=gems-node-modules /app /app\nCOPY --from=gems-node-modules /usr/local/bundle/ /usr/local/bundle/\n\nARG SHA\nENV SHA=${SHA}\nRUN echo ${SHA} > public/check\n\n# Use this for development testing\n# CMD bundle exec rails db:migrate && bundle exec rails server -b 0.0.0.0\n\n# We migrate and ignore concurrent_migration_exceptions because we deploy to\n# multiple instances at the same time.\n#\n# Under these conditions each instance will try to run migrations. Rails uses a\n# database lock to prevent them stepping on each another. If they happen to,\n# a ConcurrentMigrationError exception is thrown, the command exits 1, and\n# the server will not start thanks to the shell &&.\n#\n# We swallow the exception and run the server anyway, because we prefer running\n# new code on an old schema (which will be updated a moment later) to running\n# old code on the new schema (which will require another deploy or other manual\n# intervention to correct).\nCMD bundle exec rails db:migrate:ignore_concurrent_migration_exceptions && bundle exec rails server -b 0.0.0.0\n",
            "jmeter/terraform.tf": "terraform {\n  required_version = \"~> 1.2.3\"\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"3.12.0\"\n    }\n    cloudfoundry = {\n      source  = \"cloudfoundry-community/cloudfoundry\"\n      version = \"0.15.3\"\n    }\n  }\n}\n\nprovider \"cloudfoundry\" {\n  api_url           = \"https://api.london.cloud.service.gov.uk\"\n  sso_passcode      = var.cf_sso_passcode\n  store_tokens_path = \".cftoken\"\n}\n\nresource \"cloudfoundry_app\" \"jmeter_app\" {\n  name                 = local.app_name\n  docker_image         = local.docker_image\n  health_check_type    = \"process\"\n  health_check_timeout = 180\n  stopped              = true\n  instances            = 1\n  memory               = 4096\n  space                = data.cloudfoundry_space.space.id\n  environment          = local.app_env_variables\n  routes {\n    route = cloudfoundry_route.jmeter_app_internal_route.id\n  }\n  routes {\n    route = cloudfoundry_route.jmeter_cloudapps_route.id\n  }\n}\n\ndata \"cloudfoundry_app\" \"jmeter_app\" {\n  depends_on = [cloudfoundry_app.jmeter_app]\n  name_or_id = cloudfoundry_app.jmeter_app.name\n  space      = data.cloudfoundry_space.space.id\n}\n\ndata \"cloudfoundry_app\" \"prometheus_app\" {\n  name_or_id = var.prometheus_app\n  space      = data.cloudfoundry_space.space.id\n}\n\nresource \"cloudfoundry_network_policy\" \"prometheus_policy\" {\n  depends_on = [data.cloudfoundry_app.jmeter_app]\n  policy {\n    source_app      = data.cloudfoundry_app.prometheus_app.id\n    destination_app = data.cloudfoundry_app.jmeter_app.id\n    port            = \"8080\"\n  }\n}\n\nresource \"cloudfoundry_route\" \"jmeter_app_internal_route\" {\n  domain   = data.cloudfoundry_domain.internal.id\n  space    = data.cloudfoundry_space.space.id\n  hostname = local.app_name\n}\n\nresource \"cloudfoundry_route\" \"jmeter_cloudapps_route\" {\n  domain   = data.cloudfoundry_domain.london_cloudapps_digital.id\n  space    = data.cloudfoundry_space.space.id\n  hostname = local.app_name\n}\n\ndata \"cloudfoundry_org\" \"org\" {\n  name = \"dfe\"\n}\n\ndata \"cloudfoundry_space\" \"space\" {\n  name = var.cf_space\n  org  = data.cloudfoundry_org.org.id\n}\n\ndata \"cloudfoundry_domain\" \"internal\" {\n  name = \"apps.internal\"\n}\n\ndata \"cloudfoundry_domain\" \"london_cloudapps_digital\" {\n  name = \"london.cloudapps.digital\"\n}\n"
        },
        "static_files": {}
    },
    "project_structure": {
        "files": [
            "Dockerfile",
            "nginx.conf"
        ],
        "folders": [
            "html",
            "manifests",
            "scripts"
        ]
    }
}