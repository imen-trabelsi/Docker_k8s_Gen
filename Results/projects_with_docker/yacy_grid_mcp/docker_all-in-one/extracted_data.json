{
    "source_code_info": {
        "language": "Java",
        "framework": "Java",
        "dependencies": {
            "build.gradle": "plugins {\n  id 'java'\n  id 'maven-publish'\n  id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\n\narchivesBaseName = 'yacy_grid_mcp'\nmainClassName = \"net.yacy.grid.mcp.MCP\"\napplicationDefaultJvmArgs = [\"-Xmx1024m\"]\n\ngroup = 'net.yacy'\nversion = '0.0.1-SNAPSHOT'\n\ndescription = \"YaCy Grid MCP\"\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\nrepositories {\n     mavenCentral()\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': mainClassName\n    }\n}\n\nshadowJar {\n    zip64 true\n    exclude 'data'\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\n    mergeServiceFiles()\n}\n\ndistTar {\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\n}\n\ndistZip {\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\n}\n\ndependencies {\n    implementation 'com.rabbitmq:amqp-client:5.14.+'\n    implementation 'commons-net:commons-net:3.+'\n    implementation 'javax.servlet:javax.servlet-api:4.+'\n    implementation 'jcifs:jcifs:1.+'\n    implementation 'org.apache.httpcomponents:httpmime:4.+'\n    implementation 'org.eclipse.jetty:jetty-server:9.4.+'\n    implementation 'org.eclipse.jetty:jetty-servlet:9.4.+'\n    implementation 'org.eclipse.jgit:org.eclipse.jgit:6.+'\n    implementation 'org.elasticsearch.client:transport:6.8.+'\n    implementation 'org.mapdb:mapdb:3.0.+'\n    implementation 'org.slf4j:log4j-over-slf4j:2.0.+'\n    implementation 'org.slf4j:slf4j-jdk14:2.0.+'\n    implementation 'org.apache.logging.log4j:log4j-to-slf4j:2.19.+'\n    implementation 'io.minio:minio:8.4.+'\n    implementation 'com.amazonaws:aws-java-sdk-s3:1.12.+'\n    implementation 'io.findify:s3mock_2.13:0.2.+'\n}\n"
        },
        "database": "Elasticsearch",
        "build_system": "Gradle",
        "config_files": {
            "docker-compose.yml": "version: '3'\nservices:\n\n  elasticsearch:\n    image: elasticsearch:6.8.20\n    container_name: yacy-grid-elasticsearch\n    environment:\n      - cluster.name=elasticsearch\n      - node.name=\"yacygrid-node\"\n      - node.master=true\n      - node.data=true\n      - network.bind_host=0.0.0.0\n      - network.host=0.0.0.0\n      - http.enabled=true\n      - discovery.type=single-node\n    ulimits:\n      memlock:\n        soft: -1\n        hard: -1\n    mem_limit: 1g\n    volumes:\n      - ./conf/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml\n      - yacy-grid-elasticsearch-data:/usr/share/elasticsearch/data\n    ports:\n      - 9200:9200\n      - 9300:9300\n    expose:\n      - \"9300\"\n      - \"9200\"\n    healthcheck:\n      test: curl -f http://elasticsearch:9200/_cluster/health?wait_for_status=yellow&timeout=50s || exit 1\n      interval: 10s\n      timeout: 3s\n      retries: 20\n\n  rabbitmq:\n    image: rabbitmq:3.9-management-alpine\n    container_name: yacy-grid-rabbitmq\n    ports:\n      - 15672:15672\n      - 4369:4369\n      - 5672:5672\n      - 35197:35197\n      - 15671:15671\n      - 15691-15692:15691-15692\n      - 25672:25672\n    environment:\n      - RABBITMQ_CONFIG_FILE=/etc/rabbitmq/rabbitmq.conf\n    volumes:\n      - ./conf/rabbitmq.conf:/etc/rabbitmq/rabbitmq.conf\n      - yacy-grid-rabbitmq:/var/lib/rabbitmq\n    healthcheck:\n      test: rabbitmq-diagnostics -q ping\n      interval: 10s\n      timeout: 3s\n      retries: 20\n\n  minio:\n    image: quay.io/minio/minio\n    container_name: yacy-grid-minio\n    command: server --console-address \":9001\" /data\n    environment:\n      - MINIO_ROOT_USER=admin\n      - MINIO_ROOT_PASSWORD=12345678\n    volumes:\n      - yacy-grid-minio:/data\n    ports:\n      - 9000:9000\n      - 9001:9001\n    healthcheck:\n      test: curl -f http://minio:9001/login || exit 1\n      interval: 10s\n      timeout: 3s\n      retries: 20\n\n  mcp:\n    image: yacy/yacy_grid_mcp\n    container_name: yacy_grid_mcp\n    environment:\n      - grid_ftp_active=false\n      - grid_s3_address=admin:12345678@yacygrid.minio:9000\n      - grid_s3_active=true\n      - grid_broker_address=guest:guest@rabbitmq:5672\n      - grid_assets_delete=true\n      - grid_elasticsearch_address=elasticsearch:9300\n      - grid.ftp.active=false\n      - grid.s3.address=admin:12345678@yacygrid.minio:9000\n      - grid.s3.active=true\n      - grid.broker.address=guest:guest@rabbitmq:5672\n      - grid.assets.delete=true\n      - grid.elasticsearch.address=elasticsearch:9300\n    depends_on:\n        minio:\n          condition: service_healthy\n        rabbitmq:\n          condition: service_healthy\n        elasticsearch:\n          condition: service_healthy\n    ports:\n      - 8100:8100\n    healthcheck:\n      test: wget -nv -t1 --spider 'http://mcp:8100/yacy/grid/mcp/info/status.json' || exit 1\n      interval: 10s\n      timeout: 3s\n      retries: 20\n\n  crawler:\n    image: yacy/yacy_grid_crawler\n    container_name: yacy_grid_crawler\n    environment:\n      - grid_mcp_address=mcp:8100\n    depends_on:\n      mcp:\n        condition: service_healthy\n    ports:\n      - 8300:8300\n\n  loader:\n    image: yacy/yacy_grid_loader\n    container_name: yacy_grid_loader\n    environment:\n      - grid_mcp_address=mcp:8100\n    depends_on:\n      mcp:\n        condition: service_healthy\n    ports:\n      - 8200:8200\n\n  parser:\n    image: yacy/yacy_grid_parser\n    container_name: yacy_grid_parser\n    environment:\n      - grid_mcp_address=mcp:8100\n    depends_on:\n      mcp:\n        condition: service_healthy\n    ports:\n      - 8500:8500\n\n  search:\n    image: yacy/yacy_grid_search\n    container_name: yacy_grid_search\n    environment:\n      - grid_mcp_address=mcp:8100\n    depends_on:\n      mcp:\n        condition: service_healthy\n    ports:\n      - 8800:8800\n\n\nvolumes:\n  yacy-grid-elasticsearch-data:\n  yacy-grid-rabbitmq:\n  yacy-grid-minio:\n\n\n\n",
            "Dockerfile": "## yacy_grid_mcp Dockerfile\n#\n# Build:\n# docker build -t yacy_grid_mcp .\n#\n# Run:\n# docker run -d -p 127.0.0.1:8100:8100 --link yacy_grid_minio --link yacy_grid_rabbitmq --link yacy_grid_elasticsearch -e YACYGRID_GRID_S3_ADDRESS=admin:12345678@yacy_grid_minio:9000 -e YACYGRID_GRID_BROKER_ADDRESS=guest:guest@yacy_grid_rabbitmq:5672 -e YACYGRID_GRID_ELASTICSEARCH_ADDRESS=yacy_grid_elasticsearch:9300 --name yacy_grid_mcp yacy_grid_mcp\n#\n# Check if the service is running:\n# curl http://localhost:8100/yacy/grid/mcp/info/status.json\n\n## build app\nFROM eclipse-temurin:8-jdk-focal AS appbuilder\nCOPY ./ /app\nWORKDIR /app\nRUN ./gradlew clean shadowDistTar\n\n## build dist\nFROM eclipse-temurin:8-jre-focal\nLABEL maintainer=\"Michael Peter Christen <mc@yacy.net>\"\nENV DEBIAN_FRONTEND noninteractive\nARG default_branch=master\nCOPY ./conf /app/conf/\nCOPY --from=appbuilder /app/build/libs/yacy_grid_mcp-0.0.1-SNAPSHOT-all.jar ./app/build/libs/\nWORKDIR /app\nEXPOSE 8100\n\n# for some weird reason the jar file is sometimes not named correctly\nRUN if [ -e /app/build/libs/app-0.0.1-SNAPSHOT-all.jar ] ; then mv /app/build/libs/app-0.0.1-SNAPSHOT-all.jar /app/build/libs/yacy_grid_mcp-0.0.1-SNAPSHOT-all.jar; fi\n\nCMD [\"java\", \"-Xms320M\", \"-Xmx2G\", \"-jar\", \"/app/build/libs/yacy_grid_mcp-0.0.1-SNAPSHOT-all.jar\"]\n"
        },
        "static_files": {}
    },
    "project_structure": {
        "files": [
            "Dockerfile",
            "config-ftp.properties",
            "config-mcp.properties",
            "docker-compose.yml",
            "start.sh"
        ],
        "folders": [
            "elasticsearch"
        ]
    }
}