{
    "source_code_info": {
        "language": "JavaScript",
        "framework": "Node.js",
        "dependencies": {
            "package.json": "{\n  \"name\": \"coopcycle-web\",\n  \"version\": \"1.0.0\",\n  \"description\": \"CoopCycle platform.\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"jest\": \"jest --config jest.config.js\",\n    \"sdk:watch\": \"webpack --config webpack.sdk.config.js --watch\",\n    \"sdk:build\": \"webpack --config webpack.sdk.config.js --mode production\",\n    \"storybook\": \"storybook dev -p 6006\",\n    \"build-storybook\": \"storybook build\",\n    \"dev\": \"encore dev\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/coopcycle/coopcycle-web.git\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@cypress/react18\": \"^2.0.1\",\n    \"@cypress/webpack-preprocessor\": \"^6.0.2\",\n    \"@geoman-io/leaflet-geoman-free\": \"^2.17.0\",\n    \"@hello-pangea/dnd\": \"^16.5.0\",\n    \"cypress\": \"^13.15.0\",\n    \"dotenv\": \"^8.6.0\",\n    \"form-data\": \"^2.3.3\",\n    \"google-libphonenumber\": \"^3.2.40\",\n    \"lodash\": \"^4.17.21\",\n    \"promise\": \"^8.3.0\",\n    \"react-leaflet\": \"^4.2.1\",\n    \"whatwg-fetch\": \"^2.0.4\"\n  },\n  \"devDependencies\": {\n    \"@ant-design/icons\": \"^4.7.0\",\n    \"@babel/plugin-proposal-object-rest-spread\": \"^7.19.4\",\n    \"@babel/preset-react\": \"^7.18.6\",\n    \"@babel/register\": \"^7.18.9\",\n    \"@cubejs-client/core\": \"^0.34.0\",\n    \"@cubejs-client/playground\": \"^0.34.0\",\n    \"@cubejs-client/react\": \"^0.34.0\",\n    \"@datadog/browser-logs\": \"^5.29.1\",\n    \"@datadog/browser-rum\": \"^5.29.1\",\n    \"@hotwired/stimulus\": \"^3.2.2\",\n    \"@mapbox/polyline\": \"^1.1.0\",\n    \"@nivo/core\": \"^0.87.0\",\n    \"@nivo/heatmap\": \"^0.87.0\",\n    \"@react-css/grid\": \"^2.2.0\",\n    \"@react-hook/size\": \"^2.1.2\",\n    \"@reduxjs/toolkit\": \"^1.8.6\",\n    \"@release-notes/changelog-parser\": \"^0.1.2\",\n    \"@sentry/browser\": \"^8.35.0\",\n    \"@storybook/addon-essentials\": \"^7.5.3\",\n    \"@storybook/addon-links\": \"^7.5.3\",\n    \"@storybook/blocks\": \"^7.5.3\",\n    \"@storybook/react\": \"^7.5.3\",\n    \"@storybook/react-webpack5\": \"^7.5.3\",\n    \"@storybook/server\": \"^7.5.3\",\n    \"@storybook/server-webpack5\": \"^7.5.3\",\n    \"@stripe/react-stripe-js\": \"^1.7.0\",\n    \"@stripe/stripe-js\": \"^1.22.0\",\n    \"@symfony/stimulus-bridge\": \"^3.2.2\",\n    \"@symfony/ux-react\": \"file:vendor/symfony/ux-react/assets\",\n    \"@symfony/ux-turbo\": \"file:vendor/symfony/ux-turbo/assets\",\n    \"@symfony/webpack-encore\": \"^1.1.2\",\n    \"antd\": \"^4.24.5\",\n    \"autoprefixer\": \"^10.4.13\",\n    \"axios\": \"^0.25.0\",\n    \"babel-eslint\": \"^10.0.3\",\n    \"babel-jest\": \"^26.6.3\",\n    \"babel-plugin-import\": \"^1.13.5\",\n    \"beautifymarker\": \"^1.0.9\",\n    \"bootstrap-sass\": \"^3.4.3\",\n    \"centrifuge\": \"^2.8.4\",\n    \"chai\": \"^4.3.7\",\n    \"chart.js\": \"^4.4.0\",\n    \"chroma-js\": \"^2.4.2\",\n    \"classnames\": \"^2.3.2\",\n    \"cleave.js\": \"^1.6.0\",\n    \"clipboard\": \"^2.0.11\",\n    \"codemirror\": \"^5.65.6\",\n    \"color-hash\": \"^2.0.1\",\n    \"compare-versions\": \"^6.1.0\",\n    \"core-js\": \"^3.37.0\",\n    \"cropperjs\": \"^1.5.12\",\n    \"croppie\": \"^2.6.5\",\n    \"database-cleaner\": \"^1.3.0\",\n    \"date-holidays\": \"^3.16.10\",\n    \"dayjs\": \"^1.11.13\",\n    \"deep-object-diff\": \"^1.1.9\",\n    \"downshift\": \"^7.0.4\",\n    \"dropzone\": \"^5.9.3\",\n    \"eslint\": \"^7.32.0\",\n    \"eslint-plugin-cypress\": \"^3.3.0\",\n    \"eslint-plugin-jest\": \"^24.7.0\",\n    \"eslint-plugin-react\": \"^7.31.10\",\n    \"eslint-plugin-react-compiler\": \"^19.0.0-beta-63e3235-20250105\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"eslint-plugin-storybook\": \"^0.6.15\",\n    \"eslint-webpack-plugin\": \"^2.6.0\",\n    \"font-awesome\": \"^4.7.0\",\n    \"fontawesome-markers\": \"^4.6.1\",\n    \"formik\": \"^2.4.6\",\n    \"fuse.js\": \"^3.4.5\",\n    \"gasparesganga-jquery-loading-overlay\": \"^2.1.7\",\n    \"howler\": \"^2.2.3\",\n    \"html-loader\": \"^2.1.2\",\n    \"i18next\": \"^19.9.2\",\n    \"i18next-browser-languagedetector\": \"^6.1.8\",\n    \"inputmask\": \"^5.0.7\",\n    \"jest\": \"^26.6.3\",\n    \"jquery\": \"^3.6.1\",\n    \"js-cookie\": \"^3.0.5\",\n    \"js-yaml\": \"^4.1.0\",\n    \"jsbarcode\": \"^3.11.6\",\n    \"json-loader\": \"^0.5.7\",\n    \"leaflet\": \"^1.7.1\",\n    \"leaflet-area-select\": \"^1.0.5\",\n    \"leaflet-arrowheads\": \"^1.4.0\",\n    \"leaflet-providers\": \"^1.13.0\",\n    \"leaflet-swoopy\": \"^3.4.1\",\n    \"leaflet.markercluster\": \"^1.5.3\",\n    \"less\": \"^4.1.2\",\n    \"less-loader\": \"^10.0.0\",\n    \"libphonenumber-js\": \"^1.10.14\",\n    \"locutus\": \"^2.0.16\",\n    \"lottie-web\": \"^5.9.6\",\n    \"micromodal\": \"^0.4.10\",\n    \"moment\": \"^2.29.4\",\n    \"moment-range\": \"^4.0.2\",\n    \"moment-timezone\": \"^0.5.39\",\n    \"ngeohash\": \"^0.6.3\",\n    \"numbro\": \"^2.3.6\",\n    \"object-hash\": \"^2.2.0\",\n    \"papaparse\": \"^5.4.1\",\n    \"payment-icons\": \"^1.2.1\",\n    \"postcss-loader\": \"^6.0.0\",\n    \"prettier\": \"^3.4.2\",\n    \"prismjs\": \"^1.29.0\",\n    \"prop-types\": \"^15.8.1\",\n    \"qs\": \"^6.11.0\",\n    \"react\": \"^18.2.0\",\n    \"react-autosuggest\": \"^10.1.0\",\n    \"react-chartjs-2\": \"^5.2.0\",\n    \"react-color\": \"^2.19.3\",\n    \"react-contexify\": \"^6.0.0\",\n    \"react-cropper\": \"^2.1.8\",\n    \"react-dom\": \"^18.2.0\",\n    \"react-dropzone\": \"^11.5.3\",\n    \"react-i18next\": \"^11.18.6\",\n    \"react-markdown\": \"^8.0.3\",\n    \"react-modal\": \"^3.16.1\",\n    \"react-phone-number-input\": \"^3.2.12\",\n    \"react-redux\": \"^7.2.9\",\n    \"react-select\": \"^5.8.0\",\n    \"react-split\": \"^2.0.14\",\n    \"react-spreadsheet\": \"^0.9.2\",\n    \"react-stickynode\": \"^4.1.0\",\n    \"react-timeago\": \"^7.2.0\",\n    \"react-toastify\": \"^7.0.4\",\n    \"reduce-reducers\": \"^1.0.4\",\n    \"redux\": \"^4.2.0\",\n    \"redux-actions\": \"^2.6.5\",\n    \"redux-async-queue\": \"^1.0.0\",\n    \"redux-mock-store\": \"^1.5.4\",\n    \"redux-thunk\": \"^2.4.2\",\n    \"reselect\": \"^4.1.7\",\n    \"rrule\": \"^2.7.1\",\n    \"sass\": \"^1.56.1\",\n    \"sass-loader\": \"^12.0.0\",\n    \"scheduler\": \"^0.23.0\",\n    \"skeleton-screen-css\": \"^1.1.0\",\n    \"sortablejs\": \"^1.15.0\",\n    \"store\": \"^2.0.12\",\n    \"storybook\": \"^7.5.3\",\n    \"styled-components\": \"^5.3.6\",\n    \"swiper\": \"^11.0.5\",\n    \"to-string-loader\": \"^1.2.0\",\n    \"url-loader\": \"^4.1.1\",\n    \"use-deep-compare\": \"^1.1.0\",\n    \"x-data-spreadsheet\": \"^1.1.9\"\n  }\n}\n"
        },
        "database": null,
        "build_system": "npm",
        "config_files": {
            ".env.test": "APP_ENV=test\nBUSINESS_ACCOUNT_ENABLED=1\nCOOPCYCLE_MAIL_URL=smtp://smtp:25\nCOOPCYCLE_MAIL_TRANSPORT=smtp\nCOOPCYCLE_MAIL_SENDER_ADDRESS=hello@coopcycle.dev\nCOOPCYCLE_MAIL_SENDER_NAME=CoopCycle",
            "docker-compose.yml": "version: '3'\n\nservices:\n\n  postgres:\n    restart: always\n    image: ${POSTGRES_IMAGE:-postgis/postgis:16-3.4-alpine}\n    environment:\n      - POSTGRES_DB=${COOPCYCLE_DB_NAME}\n      - POSTGRES_USER=${COOPCYCLE_DB_USER}\n      - POSTGRES_PASSWORD=${COOPCYCLE_DB_PASSWORD}\n    ports:\n      - '5432:5432'\n    volumes:\n      - 'pg_data:/var/lib/postgresql/data'\n\n  redis:\n    restart: always\n    image: redis:5-alpine\n    ports:\n      - '6379:6379'\n\n  webpack:\n    build:\n      dockerfile: './docker/webpack/Dockerfile'\n      context: '.'\n    image: coopcycle/webpack\n    ports:\n      - '8080:8080'\n    volumes:\n      # https://stackoverflow.com/questions/29181032/add-a-volume-to-docker-but-exclude-a-sub-folder\n      - '.:/srv/coopcycle'\n      - 'webpack_php_cache:/srv/coopcycle/var/cache'\n      - 'node_modules_webpack:/srv/coopcycle/node_modules/'\n\n  osrm:\n    build: './docker/osrm'\n    ports:\n      - '5000:5000'\n    volumes:\n      - './var/osrm:/data'\n    environment:\n      - OSRM_FILENAME=data.osrm\n\n  php:\n    build:\n      dockerfile: './docker/php/Dockerfile'\n      context: '.'\n    image: coopcycle/php:${PHP_VERSION:-8.3}\n    extra_hosts:\n      - \"host.docker.internal:host-gateway\"\n    depends_on:\n      - postgres\n      - redis\n      - osrm\n      - stripe_mock\n    links:\n      - osrm\n      - stripe_mock\n      - browserless\n    environment:\n      # Make sure \"base_url\" has a trailing slash\n      # https://github.com/FriendsOfBehat/SymfonyExtension/issues/124\n      - 'BEHAT_PARAMS={\"extensions\":{\"Behat\\\\MinkExtension\":{\"base_url\": \"http://nginx_test:80/\"}}}'\n      - GOOGLE_API_KEY\n      - STRIPE_PUBLISHABLE_KEY\n      - STRIPE_SECRET_KEY\n      - STRIPE_CONNECT_CLIENT_ID\n      - GEOCODE_EARTH_API_KEY\n    volumes:\n      - './:/var/www/html:cached'\n      - 'php_logs:/var/www/html/var/logs'\n      - 'php_cache:/var/www/html/var/cache'\n      - 'php_public_images:/var/www/html/web/images'\n    cap_add:\n      - SYS_ADMIN\n\n  php_worker:\n    build:\n      dockerfile: './docker/php_worker/Dockerfile'\n      context: '.'\n    depends_on:\n      - php\n    restart: always\n    environment:\n      - GOOGLE_API_KEY\n      - STRIPE_PUBLISHABLE_KEY\n      - STRIPE_SECRET_KEY\n    volumes:\n      - './:/var/www/html:cached'\n      - 'php_logs:/var/www/html/var/logs'\n      - 'php_cache:/var/www/html/var/cache'\n      - 'php_public_images:/var/www/html/web/images'\n\n  nginx:\n    image: 'nginx:1.25-alpine'\n    depends_on:\n      - php\n      - centrifugo\n    ports:\n      - '80:80'\n    volumes:\n      - './docker/nginx/conf.d:/etc/nginx/conf.d:ro'\n      - './web:/var/www/html/web:ro'\n      - './vendor:/var/www/html/vendor:ro'\n      - 'php_public_images:/var/www/html/web/images:ro'\n\n  nginx_test:\n    image: 'nginx:1.25-alpine'\n    depends_on:\n      - php\n    ports:\n      - '9080:80'\n    volumes:\n      - './docker/nginx_test/conf.d:/etc/nginx/conf.d:ro'\n      - './web:/var/www/html/web:ro'\n      - './vendor:/var/www/html/vendor:ro'\n      - 'php_public_images:/var/www/html/web/images:ro'\n\n  smtp:\n    image: namshi/smtp\n    ports:\n      - 25:25\n\n  stripe_mock:\n    image: stripe/stripe-mock:latest\n    ports:\n      - '12111:12111'\n\n  browserless:\n    image: browserless/chrome\n    environment:\n      - DEBUG=browserless/chrome*\n\n  mjml:\n    image: adrianrudnik/mjml-server:2.4.0\n    ports:\n      - 8889:80\n    environment:\n      - CORS=*\n      - MJML_KEEP_COMMENTS=true\n      - MJML_VALIDATION_LEVEL=strict\n      - MJML_MINIFY=false\n\n  minio:\n    image: minio/minio\n    command: server --console-address \":9001\" /data\n    ports:\n      - \"9000:9000\"\n      - \"9001:9001\"\n    volumes:\n      - minio_data:/data\n    environment:\n      - MINIO_ACCESS_KEY=${S3_CREDENTIALS_KEY}\n      - MINIO_SECRET_KEY=${S3_CREDENTIALS_SECRET}\n      - MINIO_REGION=${S3_REGION}\n\n  # https://github.com/minio/minio/issues/4882\n  # https://docs.min.io/docs/minio-client-complete-guide#policy\n  minio_client:\n    image: minio/mc\n    depends_on:\n      - minio\n    environment:\n      - S3_CREDENTIALS_KEY\n      - S3_CREDENTIALS_SECRET\n      - S3_REGION\n    entrypoint: >\n      /bin/sh -c \"\n      /usr/bin/mc config host add coopcycle http://minio:9000 $S3_CREDENTIALS_KEY $S3_CREDENTIALS_SECRET;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/edifact/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/assets/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/products/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/receipts/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/restaurants/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/stores/;\n      /usr/bin/mc mb --region $S3_REGION --ignore-existing coopcycle/images/tasks/;\n      /usr/bin/mc policy set public coopcycle/images/;\n      \"\n\n  tile38:\n    image: tile38/tile38\n\n  vroom:\n    image: vroomvrp/vroom-docker:v1.8.0\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./vroom-conf/:/conf\n    environment:\n      - VROOM_ROUTER=osrm  # router to use, osrm or ors\n    depends_on:\n      - osrm\n\n  sonic:\n    image: valeriansaliou/sonic:v1.3.0\n    ports:\n      - \"1491:1491\"\n    volumes:\n      - ./sonic.cfg:/etc/sonic.cfg\n\n  centrifugo:\n    image: centrifugo/centrifugo:v2\n    ports:\n      - \"8100:8000\"\n    depends_on:\n      - redis\n    environment:\n      - CENTRIFUGO_TOKEN_HMAC_SECRET_KEY\n      - CENTRIFUGO_API_KEY\n      - CENTRIFUGO_V3_USE_OFFSET=true\n      - CENTRIFUGO_ENGINE=redis\n      - CENTRIFUGO_REDIS_URL=redis://redis:6379\n      - CENTRIFUGO_ADMIN=true\n      - CENTRIFUGO_ADMIN_PASSWORD=centrifugo\n      - CENTRIFUGO_ADMIN_SECRET=centrifugo\n\n  # https://cube.dev/docs/getting-started-docker\n  cube:\n    image: cubejs/cube:v0.34\n    ports:\n      - 4000:4000\n    depends_on:\n      - postgres\n      - minio\n    environment:\n      - CUBEJS_DB_TYPE=postgres\n      - CUBEJS_DB_HOST=${COOPCYCLE_DB_HOST}\n      - CUBEJS_DB_PORT=${COOPCYCLE_DB_PORT}\n      # - CUBEJS_DB_NAME=${COOPCYCLE_DB_NAME}\n      - CUBEJS_DB_USER=${COOPCYCLE_DB_USER}\n      - CUBEJS_DB_PASS=${COOPCYCLE_DB_PASSWORD}\n      - CUBEJS_WEB_SOCKETS=true\n      - CUBEJS_DEV_MODE=true\n      - CUBEJS_API_SECRET\n      - CUBEJS_SCHEMA_PATH=schema\n      - CUBEJS_CACHE_AND_QUEUE_DRIVER=memory\n      - CUBEJS_DB_DUCKDB_S3_ENDPOINT=${CUBEJS_DUCKDB_S3_ENDPOINT}\n      - CUBEJS_DB_DUCKDB_S3_REGION=${CUBEJS_DUCKDB_S3_REGION}\n      - CUBEJS_DB_DUCKDB_S3_ACCESS_KEY_ID=${CUBEJS_DUCKDB_S3_ACCESS_KEY_ID}\n      - CUBEJS_DB_DUCKDB_S3_SECRET_ACCESS_KEY=${CUBEJS_DUCKDB_S3_SECRET_ACCESS_KEY}\n      - CUBEJS_DB_DUCKDB_S3_USE_SSL=false\n      - CUBEJS_DB_DUCKDB_S3_URL_STYLE=path\n    volumes:\n      - ./cube:/cube/conf/schema\n      - ./cube.js:/cube/conf/cube.js\n    logging:\n      driver: none\n\n  typesense:\n    image: typesense/typesense:0.22.2\n    ports:\n      - 8108:8108\n    environment:\n      - TYPESENSE_API_KEY\n      - TYPESENSE_DATA_DIR=/data\n    volumes:\n      - typesense_data:/data\n    logging:\n      driver: none\n\n  storybook-react:\n    build:\n      dockerfile: './docker/storybook-react/Dockerfile'\n      context: '.'\n    ports:\n      - '6007:6007'\n    depends_on:\n      - webpack\n    volumes:\n      # https://stackoverflow.com/questions/29181032/add-a-volume-to-docker-but-exclude-a-sub-folder\n      - '.:/srv/coopcycle'\n      - 'node_modules_webpack:/srv/coopcycle/node_modules/'\n    profiles:\n      - devFrontend\n\n  storybook:\n    build:\n      dockerfile: './docker/storybook/Dockerfile'\n      context: '.'\n    ports:\n      - '6006:6006'\n    depends_on:\n      - webpack\n      - storybook-react\n    volumes:\n      # https://stackoverflow.com/questions/29181032/add-a-volume-to-docker-but-exclude-a-sub-folder\n      - '.:/srv/coopcycle'\n      - 'node_modules_webpack:/srv/coopcycle/node_modules/'\n    profiles:\n      - devFrontend\n\n  odoo-web:\n    image: odoo:17.0\n    depends_on:\n      - odoo-db\n    ports:\n      - \"8069:8069\"\n    environment:\n      - HOST=odoo-db\n      - PORT=5433\n    volumes:\n      - odoo-web-data:/var/lib/odoo\n    profiles:\n      - devOdoo\n\n  odoo-db:\n    image: postgres:15\n    ports:\n      - \"5433:5433\"\n    environment:\n      - POSTGRES_DB=postgres\n      - POSTGRES_PASSWORD=odoo\n      - POSTGRES_USER=odoo\n      - PGPORT=5433\n    volumes:\n      - odoo-db-data:/var/lib/postgresql/data\n    profiles:\n      - devOdoo\n\nvolumes:\n  node_modules_webpack:\n  pg_data:\n  php_cache:\n  minio_data:\n  typesense_data:\n  webpack_php_cache:\n  php_logs:\n  php_public_images:\n  odoo-web-data:\n  odoo-db-data:\n",
            "docker/storybook/Dockerfile": "FROM node:16-alpine\n\nRUN apk update && apk upgrade && \\\n    apk add --no-cache bash git openssh\n\nWORKDIR /srv/coopcycle\n\nCOPY package.json /srv/coopcycle\nCOPY package-lock.json /srv/coopcycle\n\nCOPY docker/storybook/start.sh /\n\nRUN chmod +x /start.sh\n\nENTRYPOINT [\"/start.sh\"]\n"
        },
        "static_files": {
            "assets/controllers.json": "{\n    \"controllers\": {\n        \"@symfony/ux-turbo\": {\n            \"turbo-core\": {\n                \"enabled\": true,\n                \"fetch\": \"eager\"\n            },\n            \"mercure-turbo-stream\": {\n                \"enabled\": false,\n                \"fetch\": \"eager\"\n            }\n        },\n        \"@symfony/ux-react\": {\n          \"react\": {\n            \"enabled\": true,\n            \"fetch\": \"lazy\"\n          }\n        }\n    },\n    \"entrypoints\": []\n}\n"
        }
    },
    "project_structure": {
        "files": [
            "Dockerfile",
            "start.sh"
        ],
        "folders": []
    }
}