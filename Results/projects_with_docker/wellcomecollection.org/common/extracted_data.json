{
    "source_code_info": {
        "language": "JavaScript",
        "framework": "Node.js",
        "dependencies": {
            "package.json": "{\n  \"name\": \"@weco/common\",\n  \"version\": \"1.0.0\",\n  \"sideEffects\": false,\n  \"scripts\": {\n    \"test\": \"jest\",\n    \"test:watch\": \"yarn test -- --watchAll\",\n    \"test:updateSnapshots\": \"yarn test -- --updateSnapshot\"\n  },\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"@elastic/apm-rum\": \"^5.12.0\",\n    \"@next/bundle-analyzer\": \"^14.2.23\",\n    \"@popperjs/core\": \"^2.11.8\",\n    \"@prismicio/client\": \"^7.8.0\",\n    \"@prismicio/next\": \"^1.3.6\",\n    \"@prismicio/react\": \"^2.7.3\",\n    \"@segment/snippet\": \"^5.2.1\",\n    \"@testing-library/jest-dom\": \"^6.6.2\",\n    \"@testing-library/react\": \"^16.2.0\",\n    \"@testing-library/user-event\": \"14.6.1\",\n    \"@weco/toggles\": \"1.0.0\",\n    \"babel-plugin-dynamic-import-node\": \"^2.3.3\",\n    \"babel-plugin-styled-components\": \"^2.1.4\",\n    \"cookies-next\": \"^4.1.1\",\n    \"elastic-apm-node\": \"^4.11.0\",\n    \"focus-trap-react\": \"^11.0.3\",\n    \"fontfaceobserver\": \"^2.0.13\",\n    \"jest\": \"^29.5.0\",\n    \"jest-environment-jsdom\": \"^29.5.0\",\n    \"koa-compose\": \"^4.1.0\",\n    \"lodash.debounce\": \"^4.0.8\",\n    \"next\": \"14.2.15\",\n    \"nprogress\": \"^0.2.0\",\n    \"react\": \"^18.3.1\",\n    \"react-dom\": \"^18.3.1\",\n    \"react-popper\": \"^2.3.0\",\n    \"react-transition-group\": \"^4.4.5\",\n    \"styled-components\": \"^6.1.12\",\n    \"timezone-mock\": \"^1.3.6\",\n    \"url-template\": \"^2.0.8\",\n    \"uuid\": \"^11.1.0\",\n    \"webpack-bundle-analyzer\": \"^4.8.0\"\n  },\n  \"devDependencies\": {\n    \"@slicemachine/adapter-next\": \"^0.3.36\",\n    \"slice-machine-ui\": \"^2.13.1\"\n  }\n}\n"
        },
        "database": null,
        "build_system": "npm",
        "config_files": {
            "docker-compose.yml": "version: '3.3'\nservices:\n  common:\n    image: common_webapp\n    build:\n      context: .\n      dockerfile: common/Dockerfile\n  content:\n    image: uk.ac.wellcome/content_webapp:${CONTAINER_TAG:-test}\n    build:\n      context: .\n      dockerfile: content/Dockerfile\n      args:\n        - NEXT_PUBLIC_CIVICUK_API_KEY\n  identity:\n    image: uk.ac.wellcome/identity_webapp:${CONTAINER_TAG:-test}\n    build:\n      context: .\n      dockerfile: identity/Dockerfile\n      args:\n        - NEXT_PUBLIC_CIVICUK_API_KEY\n  edge_lambdas:\n    build:\n      context: .\n      dockerfile: cache/edge_lambdas/Dockerfile\n    volumes:\n      - ~/.aws:/root/.aws\n      - ./cache/edge_lambdas/deploy.js:/repo/cache/edge_lambdas/deploy.js\n    environment:\n      - AWS_PROFILE\n  pa11y:\n    build:\n      context: ./pa11y\n  updown:\n    build:\n      context: ./updown\n  e2e:\n    image: \"130871440101.dkr.ecr.eu-west-1.amazonaws.com/weco/playwright:latest\"\n    volumes:\n      - ./playwright/test:/usr/src/app/webapp/playwright/test\n  prismic_model:\n    build:\n      context: .\n      dockerfile: prismic-model/Dockerfile\n    environment:\n      - AWS_ACCESS_KEY_ID\n      - AWS_SECRET_ACCESS_KEY\n      - AWS_SESSION_TOKEN\n",
            "common/Dockerfile": "FROM public.ecr.aws/docker/library/node:20-bookworm-slim\n\nWORKDIR /usr/src/app/webapp\n\nRUN apt-get update && apt-get install -y awscli\n\nADD ./package.json ./package.json\nADD ./yarn.lock ./yarn.lock\nADD ./common ./common\n\nADD ./content/webapp ./content/webapp\nADD ./toggles/webapp ./toggles/webapp\nADD ./identity/webapp ./identity/webapp\n\nRUN yarn setupCommon && yarn cache clean\n\nWORKDIR /usr/src/app/webapp/common\n\nCMD [\"true\"]\n"
        },
        "static_files": {
            "static/README.md": "# Static\n\nA place to store files that can be embedded via an iframe into the editorial content.\n",
            "assets/README.md": "# Assets\n\nFiles stored in s3://i.wellcomecollection.org and served from the public site.\n\ne.g. https://wellcomecollection.org/humans.txt\n\n## Deployment\n\nChanges to these files are automatically uploaded to the bucket in CI when you merge to main.\n",
            "assets/icons/browserconfig.xml": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<browserconfig>\n    <msapplication>\n        <tile>\n            <square150x150logo src=\"/assets/icons/mstile-150x150.png\"/>\n            <TileColor>#944aa0</TileColor>\n        </tile>\n    </msapplication>\n</browserconfig>\n",
            "assets/icons/manifest.json": "{\n    \"name\": \"Wellcome Collection\",\n    \"icons\": [\n        {\n            \"src\": \"/assets/icons/android-chrome-192x192.png\",\n            \"sizes\": \"192x192\",\n            \"type\": \"image/png\"\n        },\n        {\n            \"src\": \"/assets/icons/android-chrome-512x512.png\",\n            \"sizes\": \"512x512\",\n            \"type\": \"image/png\"\n        }\n    ],\n    \"theme_color\": \"#000000\",\n    \"background_color\": \"#944aa0\",\n    \"display\": \"standalone\"\n}\n",
            "assets/package.json": "{\n  \"name\": \"@weco/static\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Assets for wellcomecollection.org\",\n  \"author\": \"Wellcome Collection <digital@wellcomecollection.org>\",\n  \"license\": \"MIT\"\n}\n",
            "content/webapp/components/AudioPlayer/README.md": "## Purpose\nProvides a simple accessible custom UI for an HTML `<audio>` element.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/AudioPlayer/README.md)\n",
            "content/webapp/components/BackToResults/README.md": "## Purpose\n\nTo provide a means for a user to return to their previous list of search results from an individual work page.\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/BackToResults/README.md)\n",
            "content/webapp/components/Contact/README.md": "## Purpose\n\nBy modelling contact data into a component, we ensure that we present it in a consistent UI, and that the relevant information is kept up-to-date everywhere it appears.\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/Contact/README.md)\n",
            "content/webapp/components/Contributors/README.md": "## Purpose\n- Showcase the people and organisations who make significant contributions to our events, exhibitions and other creative outputs\n- Helps answer user question of \"Who's involved, and why should I attend/read this?\"\n- Contributes to trust in Wellcome Collection as an institution\n- Gives brand recognition to partners, especially in contractual arrangements (e.g. BBC World Service)\n- Enriches our data graph\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/Contributors/README.md)\n",
            "content/webapp/components/CopyButtons/README.md": "## Purpose\n\n### Copy URL\nTo allow one-click saving of a URL to the user's clipboard.\n\n### Copy Content\nTo allow one-click saving of any content that doesn't need to be displayed in a text input.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/CopyButtons/README.md)\n",
            "content/webapp/components/EventDateRange/README.md": "## Purpose\nTo be able to express a list of date ranges as a single, relevant date range\nfor people to be able to get a snapshot of an event.\n\n### How do we do this?\nWe display the earliest, future date, which would be most relevant to a user\ntrying to make a decision on whether they would like to attend an event.\n\nIf this isn't available, we use the latest possible date.\n\nThis is usually used in conjunction with a link to view the full list of date\nranges.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/EventDateRange/README.md)\n",
            "content/webapp/components/EventDatesLink/README.md": "## Purpose\nTo scroll a user to the list of dates and times on an event page.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/EventDatesLink/README.md)\n",
            "content/webapp/components/EventSchedule/README.md": "## Purpose\nTo show a list of events over a constrained period of time.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/EventSchedule/README.md)\n",
            "content/webapp/components/ExhibitionCaptions/README.md": "## Purpose\nTo display captions for stops within an exhibition, as well as written transcripts of any associated audio.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/ExhibitionCaptions/README.md)\n",
            "content/webapp/components/FeaturedCard/README.md": "## Purpose\nTo give more prominence to a piece of content than a regular card.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/FeaturedCard/README.md)\n",
            "content/webapp/components/FeaturedText/README.md": "## Purpose\nUsed to emphasise a paragraph of text. The first paragraph on an exhibition page, for example.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/FeaturedText/README.md)\n",
            "content/webapp/components/IIIFViewer/README.md": "## Purpose\nTo display digitised items with their associated metadata\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/IIIFViewer/README.md)\n",
            "content/webapp/components/ImageGallery/README.md": "## Purpose\nTo enable the display of a number of images without requiring a user to view them.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/ImageGallery/README.md)\n",
            "content/webapp/components/ImagePlaceholder/README.md": "## Purpose\nTo display a square placeholder image if we don't have anything more appropriate.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/ImagePlaceholder/README.md)\n",
            "content/webapp/components/InfoBlock/README.md": "## Purpose\n\nTo call out important information on a page, potentially linking off to other relevant content.\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/InfoBlock/README.md)",
            "content/webapp/components/InfoBox/README.md": "## Purpose\n- Groups together key information that is important to convey.\n- May provide links to further information.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/InfoBox/README.md)\n",
            "content/webapp/components/LinkLabels/README.md": "## Purpose\n\nTo provide extra information, context, and links to find out more about people and content referenced on our site.\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/LinkLabels/README.md)\n",
            "content/webapp/components/MediaObject/README.md": "## Purpose\nMedia object to display icons and text in a grid layout format.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/MediaObject/README.md)\n",
            "content/webapp/components/MediaObjectBase/README.md": "## Purpose\nThe base component which use currently being used in MediaObject, CompactCard\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/MediaObjectBase/README.md)\n",
            "content/webapp/components/Message/README.md": "## Purpose\nUsed to highlight key message within a component.\n\n## Examples\n__Booking info:__ Just turn up, Booking opens [date, time], Fully booked\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/Message/README.md)\n",
            "content/webapp/components/MoreLink/README.md": "## Purpose\nUsed to link to list pages as an onward journey, where the destination = all things of that type.\n\n**Examples**\n- See all exhibitions\n- All past events\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/MoreLink/README.md)",
            "content/webapp/components/OnThisPageAnchors/README.md": "## Purpose\nOptionally (in Prismic) provides in-page navigation to all sections headed by H2s on any `page`.\n\n## Usage notes\n\nUse when:\n- There are more than 3 H2s on a content page\n- Content page is long and contains discrete nuggets of information; where a user might only be interested jumping to a specific part\n\nDon't use on:\n- `articles`\n- `events`\n- `exhibitions`\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/OnThisPageAnchors/README.md)\n\n",
            "content/webapp/components/Placeholder/README.md": "## Purpose\nThis component can wrap things that have a loading state, during which time it will render a \"skeleton state\" placeholder.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/Placeholder/README.md)",
            "content/webapp/components/Quote/README.md": "## Purpose\nDisplay a block or pull quote.\n\n## Editorial usage\n\n**Block quote style**\n- Used as part of a narrative flow\n- Optional citation\n- In someone else's words, for example:\n\n```\n... as the great ethnographer Jarvis Cocker once sang: \n\"She came from Greece, \nshe had a thirst for knowledge\"\n-- Pulp, Common People\n```\n\n**Pull quote style**\n\n***Review quote***\n- Cherry-picked from media sources\n- Requires a citation\n- May be stacked with up to three quotes\n\n***Testimonial quote***\n- Cherry-picked from evaluation sources\n- Optional citation (free text, e.g. `Jarvis Cocker, Sheffield`)\n- Use one at a time\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/Quote/README.md)\n",
            "content/webapp/components/SectionHeader/README.md": "## Purpose\nTo separate page sections.\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/SectionHeader/README.md)\n",
            "content/webapp/components/StatusIndicator/README.md": "## Purpose\nTo indicate the status of a current event/exhibition/installation, based on the current time.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/StatusIndicator/README.md)\n",
            "content/webapp/components/Tabs/README.md": "## Purpose\nTo navigate through related sections within a set of results.\n\n### Default\n`Tabs.Switch` uses real tab behaviour where clicking a tab will swap out the content of the tabpanel underneath.\n\n### Links\n`Tabs.Navigate` uses the same styled-components as `Tabs.Switch`, but the tabs function as anchors which link to a new page.",
            "content/webapp/components/Tags/README.md": "## Purpose\nTo display a horizontal list of associated links.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/Tags/README.md)\n",
            "content/webapp/components/TagsGroup/README.md": "## Purpose\nTo display a list of associated links horizontally under a heading\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/common/views/components/TagsGroup/README.md)\n",
            "content/webapp/components/TextAndImageOrIcons/README.md": "## Purpose\nHandles the text-and-image and text-and-icons (side-by-side) slices from Prismic\n",
            "content/webapp/components/TitledTextList/README.md": "## Purpose\nUsed to present activities, information resources, or nudges toward other functional content with a call to action.  The text of each item is written to make sense in the context of the page on which it sits.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/TitledTextList/README.md)\n",
            "content/webapp/components/VenueHours/README.md": "## Purpose\nTo display a Wellcome venue's opening hours alongside any extraordinary opening hours in the near future.\n\n\n[Edit this Readme on GitHub](https://github.com/wellcomecollection/wellcomecollection.org/edit/main/content/webapp/components/VenueHours/README.md)\n",
            "content/webapp/package.json": "{\n  \"name\": \"@weco/content\",\n  \"version\": \"1.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"build\": \"next build\",\n    \"dev\": \"NODE_EXTRA_CA_CERTS=\\\"$(mkcert -CAROOT)/rootCA.pem\\\" NODE_ENV=development nodemon --watch server.ts --watch app.ts --exec ts-node --project tsconfig.server.json server\",\n    \"start\": \"NODE_ENV=production ts-node-transpile-only --project tsconfig.server.json server\",\n    \"test\": \"NODE_ENV=test jest --no-cache\",\n    \"test:watch\": \"yarn test -- --watchAll\"\n  },\n  \"dependencies\": {\n    \"@iiif/presentation-3\": \"^2.1.3\",\n    \"@weco/common\": \"1.0.0\",\n    \"@weco/toggles\": \"1.0.0\",\n    \"agentkeepalive\": \"^4.6.0\",\n    \"google-maps\": \"^4.3.3\",\n    \"koa\": \"^2.16.0\",\n    \"koa-bodyparser\": \"^4.4.0\",\n    \"@koa/router\": \"^13.1.0\",\n    \"lodash.flattendeep\": \"^4.4.0\",\n    \"lodash.throttle\": \"^4.1.1\",\n    \"next\": \"14.2.15\",\n    \"next-router-mock\": \"^0.9.3\",\n    \"openseadragon\": \"^4.0.0\",\n    \"react\": \"^18.3.1\",\n    \"react-dom\": \"^18.3.1\",\n    \"react-photo-album\": \"^2.0.0\",\n    \"react-window\": \"^1.8.8\",\n    \"reading-time\": \"^1.5.0\",\n    \"rss\": \"^1.2.2\",\n    \"search-query-parser\": \"^1.3.0\",\n    \"styled-components\": \"^6.1.12\",\n    \"ts-node\": \"^10.9.1\"\n  },\n  \"devDependencies\": {\n    \"@types/rss\": \"^0.0.32\"\n  }\n}\n",
            "content/webapp/pages/guides/exhibitions/README.md": "# User preferences and redirects\n\nWe offer multiple types of exhibition guide (e.g. audio with description, BSL described, captions and transcripts).\nWhen a user opens an exhibition guide on their smartphone, they can choose which guide to read.\n\nTo avoid somebody having to repeatedly select the same exhibition guide, we \"remember\" which guide they select and take them there automatically.\n\n## In-gallery QR codes\n\nWe expect in-gallery QR codes to:\n\n*   Link to the audio-without-descriptions guide.\n    We believe this is the best default choice.\n\n*   Include a query parameter `usingQRCode=true`, so we can tell somebody has come from scanning an in-gallery code.\n\n*   Include the ID of the stop as both a fragment `#stop` and a query parameter `stopId={stop}`.\n\nFor example, \n\n```\n/guides/exhibitions/YzwsAREAAHylrxau/audio-without-descriptions?usingQRCode=true&stopId=witness#witness\n```\n",
            "content/webapp/tsconfig.json": "{\n  \"extends\": \"../../config/tsconfig-base\",\n  \"compilerOptions\": {\n    \"composite\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\" // Forced by NextJs on build\n  },\n  \"ts-node\": {\n    \"preferTsExts\": true\n  }\n}\n",
            "content/webapp/tsconfig.server.json": "{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"module\": \"commonjs\"\n  },\n  \"include\": [\"server\", \"start\"]\n}"
        }
    },
    "project_structure": {
        "files": [
            "Dockerfile",
            "README.md",
            "deploy.ts",
            "package.json",
            "tsconfig.json",
            "types.ts",
            "updown-checks.ts",
            "updown.ts",
            "yarn.lock"
        ],
        "folders": []
    }
}